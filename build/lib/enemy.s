
;;; gcc for m6809 : Feb 15 2016 21:40:10
;;; 4.3.6 (gcc6809)
;;; ABI version 1
;;; -mint8
	.module	enemy.c
	.globl _MAX_LEVELS
	.area .text
_MAX_LEVELS:
	.byte	5
	.globl _waveData
_waveData:
	.byte	1
	.byte	1
	.byte	1
	.byte	0
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	10
	.word	0	;skip space 24
	.word	0	;skip space 22
	.word	0	;skip space 20
	.word	0	;skip space 18
	.word	0	;skip space 16
	.word	0	;skip space 14
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.word	0	;skip space 62
	.word	0	;skip space 60
	.word	0	;skip space 58
	.word	0	;skip space 56
	.word	0	;skip space 54
	.word	0	;skip space 52
	.word	0	;skip space 50
	.word	0	;skip space 48
	.word	0	;skip space 46
	.word	0	;skip space 44
	.word	0	;skip space 42
	.word	0	;skip space 40
	.word	0	;skip space 38
	.word	0	;skip space 36
	.word	0	;skip space 34
	.word	0	;skip space 32
	.word	0	;skip space 30
	.word	0	;skip space 28
	.word	0	;skip space 26
	.word	0	;skip space 24
	.word	0	;skip space 22
	.word	0	;skip space 20
	.word	0	;skip space 18
	.word	0	;skip space 16
	.word	0	;skip space 14
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	2
	.byte	2
	.byte	1
	.byte	0
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	10
	.word	0	;skip space 24
	.word	0	;skip space 22
	.word	0	;skip space 20
	.word	0	;skip space 18
	.word	0	;skip space 16
	.word	0	;skip space 14
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	2
	.byte	0
	.byte	100
	.byte	100
	.byte	-1
	.byte	-1
	.byte	10
	.byte	0
	.byte	-100
	.byte	-100
	.byte	2
	.byte	2
	.byte	10
	.word	0	;skip space 18
	.word	0	;skip space 16
	.word	0	;skip space 14
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.word	0	;skip space 31
	.word	0	;skip space 29
	.word	0	;skip space 27
	.word	0	;skip space 25
	.word	0	;skip space 23
	.word	0	;skip space 21
	.word	0	;skip space 19
	.word	0	;skip space 17
	.word	0	;skip space 15
	.word	0	;skip space 13
	.word	0	;skip space 11
	.word	0	;skip space 9
	.word	0	;skip space 7
	.word	0	;skip space 5
	.word	0	;skip space 3
	.byte	0	;skip space
	.byte	3
	.byte	3
	.byte	3
	.byte	0
	.byte	100
	.byte	100
	.byte	-1
	.byte	-1
	.byte	10
	.byte	0
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	10
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	0
	.byte	10
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	1
	.byte	0
	.byte	100
	.byte	100
	.byte	-1
	.byte	-1
	.byte	10
	.word	0	;skip space 24
	.word	0	;skip space 22
	.word	0	;skip space 20
	.word	0	;skip space 18
	.word	0	;skip space 16
	.word	0	;skip space 14
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	3
	.byte	0
	.byte	-100
	.byte	50
	.byte	2
	.byte	-1
	.byte	50
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	0
	.byte	50
	.byte	0
	.byte	-100
	.byte	0
	.byte	1
	.byte	0
	.byte	50
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	4
	.byte	3
	.byte	3
	.byte	0
	.byte	100
	.byte	100
	.byte	-1
	.byte	-1
	.byte	10
	.byte	0
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	10
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	0
	.byte	10
	.word	0	;skip space 12
	.word	0	;skip space 10
	.word	0	;skip space 8
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	4
	.byte	0
	.byte	100
	.byte	100
	.byte	-1
	.byte	-1
	.byte	10
	.byte	0
	.byte	50
	.byte	100
	.byte	-1
	.byte	-2
	.byte	10
	.byte	0
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	10
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	0
	.byte	10
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	5
	.byte	0
	.byte	-100
	.byte	50
	.byte	2
	.byte	-1
	.byte	50
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	0
	.byte	50
	.byte	0
	.byte	-100
	.byte	0
	.byte	1
	.byte	0
	.byte	50
	.byte	0
	.byte	100
	.byte	0
	.byte	-2
	.byte	0
	.byte	50
	.byte	0
	.byte	-50
	.byte	-100
	.byte	1
	.byte	2
	.byte	50
	.byte	5
	.byte	3
	.byte	4
	.byte	0
	.byte	-100
	.byte	-100
	.byte	1
	.byte	1
	.byte	10
	.byte	0
	.byte	-100
	.byte	100
	.byte	1
	.byte	-1
	.byte	10
	.byte	0
	.byte	100
	.byte	-100
	.byte	-1
	.byte	1
	.byte	10
	.byte	0
	.byte	100
	.byte	100
	.byte	-1
	.byte	-1
	.byte	10
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	4
	.byte	0
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	10
	.byte	0
	.byte	0
	.byte	-100
	.byte	0
	.byte	1
	.byte	10
	.byte	0
	.byte	100
	.byte	0
	.byte	-1
	.byte	0
	.byte	10
	.byte	0
	.byte	-100
	.byte	0
	.byte	1
	.byte	0
	.byte	10
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.byte	4
	.byte	0
	.byte	-50
	.byte	-100
	.byte	1
	.byte	2
	.byte	50
	.byte	0
	.byte	-50
	.byte	100
	.byte	1
	.byte	-2
	.byte	50
	.byte	0
	.byte	50
	.byte	-100
	.byte	-1
	.byte	2
	.byte	50
	.byte	0
	.byte	50
	.byte	100
	.byte	-1
	.byte	-2
	.byte	50
	.word	0	;skip space 6
	.word	0	;skip space 4
	.word	0	;skip space 2
	.globl _enemies
	.area .data
_enemies:
	.byte	1
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	1
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	1
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	1
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	1
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.globl _vectors_enemy
	.area .text
_vectors_enemy:
	.byte	0
	.byte	16
	.byte	0
	.byte	-1
	.byte	-16
	.byte	0
	.byte	-1
	.byte	-16
	.byte	16
	.byte	-1
	.byte	-16
	.byte	0
	.byte	-1
	.byte	0
	.byte	16
	.byte	-1
	.byte	-16
	.byte	-16
	.byte	-1
	.byte	16
	.byte	-16
	.byte	-1
	.byte	-16
	.byte	-16
	.byte	-1
	.byte	16
	.byte	-16
	.byte	-1
	.byte	0
	.byte	16
	.byte	-1
	.byte	16
	.byte	0
	.byte	-1
	.byte	16
	.byte	16
	.byte	1
	.byte	0
	.byte	0
	.globl _draw_enemy
_draw_enemy:
	leas	-5,s
	stx	1,s
	jsr	___Reset0Ref
	ldb	#127
	stb	*_dp_VIA_t1_cnt_lo
	ldx	1,s
	ldb	2,x
	stb	,s
	ldx	1,s
	ldb	1,x
	stb	4,s
	ldb	,s
	stb	3,s
	ldb	4,s
	stb	,-s
	ldb	4,s
	jsr	__Moveto_d
	leas	1,s
	ldb	#34
	stb	*_dp_VIA_t1_cnt_lo
	ldx	#_vectors_enemy
	jsr	___Draw_VLp
	leas	5,s
	rts
	.globl _check_enemy
_check_enemy:
	leas	-6,s
	stx	4,s
	; ldx	4,s	; optimization 5
	ldb	2,x
	stb	,s
	ldx	4,s
	ldb	1,x
	stb	1,s
	ldb	#8
	stb	,-s
	ldb	#8
	stb	,-s
	ldb	2,s
	pshs	b
	ldb	4,s
	pshs	b
	clr	,-s
	clrb
	jsr	_check_collision
	leas	5,s
	tstb
	beq	L6
	ldx	#_bang
	jsr	_play_explosion
	ldb	_tower+4
	stb	,s
	ldx	4,s
	ldb	5,x
	stb	2,s
	ldb	,s
	cmpb	2,s	;cmpqi:
	bls	L5
	ldb	_tower+4
	stb	3,s
	ldx	4,s
	ldb	5,x
	subb	3,s
	negb
	stb	_tower+4
	ldb	#1
	stb	[4,s]
	bra	L6
L5:
	clr	_tower
L6:
	leas	6,s
	rts
	.globl _init_enemies
_init_enemies:
	pshs	y,u
	leas	-84,s
	ldb	_current_wave
	stb	60,s
	ldb	_current_wave+1
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	ldb	60,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,y
	stx	58,s
	ldd	58,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	58,s
	; ldd	58,s	; optimization 5
	pshs	x	;subhi: R:d -= R:x
	subd	,s++
	std	58,s
	sty	56,s
	ldd	56,s
	aslb
	rola
	std	56,s
	; ldd	56,s	; optimization 5
	leax	d,y
	stx	56,s
	ldd	56,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	56,s
	; ldd	56,s	; optimization 5
	pshs	y	;subhi: R:d -= R:y
	subd	,s++
	std	56,s
	ldd	58,s
	ldu	56,s
	leax	d,u
	leax	_waveData+2,x
	ldb	,x
	stb	81,s
	clr	82,s
	jmp	L8
L9:
	ldb	82,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	54,s
	ldd	54,s
	aslb
	rola
	std	54,s
	; ldd	54,s	; optimization 5
	leax	d,x
	stx	54,s
	ldd	54,s
	aslb
	rola
	std	54,s
	ldu	54,s
	leax	_enemies,u
	clr	,x
	ldb	82,s
	stb	61,s
	ldb	_current_wave
	stb	62,s
	ldb	_current_wave+1
	stb	63,s
	ldb	82,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	52,s
	ldd	52,s
	aslb
	rola
	std	52,s
	; ldd	52,s	; optimization 5
	leax	d,x
	stx	52,s
	ldd	52,s
	addd	#1
	std	,s
	ldb	63,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,y
	ldb	62,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	ldd	,s
	aslb
	rola
	std	50,s
	sty	48,s
	ldd	48,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	48,s
	; ldd	48,s	; optimization 5
	pshs	y	;subhi: R:d -= R:y
	subd	,s++
	std	48,s
	ldd	50,s
	ldu	48,s
	leay	d,u
	stx	46,s
	ldd	46,s
	aslb
	rola
	std	46,s
	; ldd	46,s	; optimization 5
	leau	d,x
	stu	46,s
	ldd	46,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	46,s
	; ldd	46,s	; optimization 5
	pshs	x	;subhi: R:d -= R:x
	subd	,s++
	std	46,s
	; ldd	46,s	; optimization 5
	leax	d,y
	leax	_waveData+2,x
	ldb	,x
	stb	64,s
	ldb	61,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	44,s
	ldd	44,s
	aslb
	rola
	std	44,s
	; ldd	44,s	; optimization 5
	leax	d,x
	stx	44,s
	ldd	44,s
	aslb
	rola
	std	44,s
	ldu	44,s
	leax	_enemies+1,u
	ldb	64,s
	stb	,x
	ldb	82,s
	stb	65,s
	ldb	_current_wave
	stb	66,s
	ldb	_current_wave+1
	stb	67,s
	ldb	82,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	42,s
	ldd	42,s
	aslb
	rola
	std	42,s
	; ldd	42,s	; optimization 5
	leax	d,x
	stx	42,s
	ldd	42,s
	addd	#1
	std	,s
	ldb	67,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,y
	ldb	66,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	ldd	,s
	aslb
	rola
	std	40,s
	sty	38,s
	ldd	38,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	38,s
	; ldd	38,s	; optimization 5
	pshs	y	;subhi: R:d -= R:y
	subd	,s++
	std	38,s
	ldd	40,s
	ldu	38,s
	leay	d,u
	stx	36,s
	ldd	36,s
	aslb
	rola
	std	36,s
	; ldd	36,s	; optimization 5
	leau	d,x
	stu	36,s
	ldd	36,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	36,s
	; ldd	36,s	; optimization 5
	pshs	x	;subhi: R:d -= R:x
	subd	,s++
	std	36,s
	; ldd	36,s	; optimization 5
	leax	d,y
	leax	_waveData+3,x
	ldb	,x
	stb	68,s
	ldb	65,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	34,s
	ldd	34,s
	aslb
	rola
	std	34,s
	; ldd	34,s	; optimization 5
	leax	d,x
	stx	34,s
	ldd	34,s
	addd	#1
	aslb
	rola
	ldu	#_enemies
	leax	d,u
	ldb	68,s
	stb	,x
	ldb	82,s
	stb	69,s
	ldb	_current_wave
	stb	70,s
	ldb	_current_wave+1
	stb	71,s
	ldb	82,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	ldb	71,s
	clra		;zero_extendqihi: R:b -> R:d
	std	32,s
	ldb	70,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,y
	stx	30,s
	ldd	30,s
	aslb
	rola
	std	30,s
	; ldd	30,s	; optimization 5
	leax	d,x
	stx	30,s
	ldd	30,s
	aslb
	rola
	std	30,s
	ldx	32,s
	stx	28,s
	ldd	28,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	28,s
	; ldd	28,s	; optimization 5
	subd	32,s	;subhi: R:d -= 32,s
	std	28,s
	ldd	30,s
	ldu	28,s
	leax	d,u
	sty	26,s
	ldd	26,s
	aslb
	rola
	std	26,s
	; ldd	26,s	; optimization 5
	leau	d,y
	stu	26,s
	ldd	26,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	26,s
	; ldd	26,s	; optimization 5
	pshs	y	;subhi: R:d -= R:y
	subd	,s++
	std	26,s
	exg	d,x
	addd	26,s
	exg	d,x
	leax	_waveData+6,x
	ldb	,x
	stb	72,s
	ldb	69,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	24,s
	ldd	24,s
	aslb
	rola
	std	24,s
	; ldd	24,s	; optimization 5
	leax	d,x
	stx	24,s
	ldd	24,s
	aslb
	rola
	std	24,s
	ldu	24,s
	leax	_enemies+3,u
	ldb	72,s
	stb	,x
	ldb	82,s
	stb	73,s
	ldb	_current_wave
	stb	74,s
	ldb	_current_wave+1
	stb	75,s
	ldb	82,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	ldb	75,s
	clra		;zero_extendqihi: R:b -> R:d
	std	22,s
	ldb	74,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,y
	stx	20,s
	ldd	20,s
	aslb
	rola
	std	20,s
	; ldd	20,s	; optimization 5
	leax	d,x
	stx	20,s
	ldd	20,s
	aslb
	rola
	std	20,s
	ldx	22,s
	stx	18,s
	ldd	18,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	18,s
	; ldd	18,s	; optimization 5
	subd	22,s	;subhi: R:d -= 22,s
	std	18,s
	ldd	20,s
	ldu	18,s
	leax	d,u
	sty	16,s
	ldd	16,s
	aslb
	rola
	std	16,s
	; ldd	16,s	; optimization 5
	leau	d,y
	stu	16,s
	ldd	16,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	16,s
	; ldd	16,s	; optimization 5
	pshs	y	;subhi: R:d -= R:y
	subd	,s++
	std	16,s
	exg	d,x
	addd	16,s
	exg	d,x
	leax	_waveData+7,x
	ldb	,x
	stb	76,s
	ldb	73,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	14,s
	ldd	14,s
	aslb
	rola
	std	14,s
	; ldd	14,s	; optimization 5
	leax	d,x
	stx	14,s
	ldd	14,s
	aslb
	rola
	std	14,s
	ldu	14,s
	leax	_enemies+4,u
	ldb	76,s
	stb	,x
	ldb	82,s
	stb	77,s
	ldb	_current_wave
	stb	78,s
	ldb	_current_wave+1
	stb	79,s
	ldb	82,s
	clra		;zero_extendqihi: R:b -> R:d
	ldu	#1
	leax	d,u
	ldb	79,s
	clra		;zero_extendqihi: R:b -> R:d
	std	12,s
	ldb	78,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,y
	stx	10,s
	ldd	10,s
	aslb
	rola
	std	10,s
	; ldd	10,s	; optimization 5
	leax	d,x
	stx	10,s
	ldd	10,s
	aslb
	rola
	std	10,s
	ldx	12,s
	stx	8,s
	ldd	8,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	8,s
	; ldd	8,s	; optimization 5
	subd	12,s	;subhi: R:d -= 12,s
	std	8,s
	ldd	10,s
	ldu	8,s
	leax	d,u
	sty	6,s
	ldd	6,s
	aslb
	rola
	std	6,s
	; ldd	6,s	; optimization 5
	leau	d,y
	stu	6,s
	ldd	6,s
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	aslb
	rola
	std	6,s
	; ldd	6,s	; optimization 5
	pshs	y	;subhi: R:d -= R:y
	subd	,s++
	std	6,s
	exg	d,x
	addd	6,s
	exg	d,x
	leax	_waveData+2,x
	ldb	,x
	stb	80,s
	ldb	77,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	4,s
	ldd	4,s
	aslb
	rola
	std	4,s
	; ldd	4,s	; optimization 5
	leax	d,x
	stx	4,s
	ldd	4,s
	aslb
	rola
	std	4,s
	ldu	4,s
	leax	_enemies+5,u
	ldb	80,s
	stb	,x
	inc	82,s
L8:
	ldb	82,s
	cmpb	81,s	;cmpqi:
	lblo	L9
	ldb	81,s
	stb	83,s
	bra	L10
L11:
	ldb	83,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	2,s
	ldd	2,s
	aslb
	rola
	std	2,s
	; ldd	2,s	; optimization 5
	leax	d,x
	stx	2,s
	ldd	2,s
	aslb
	rola
	std	2,s
	ldu	2,s
	leax	_enemies,u
	ldb	#1
	stb	,x
	inc	83,s
L10:
	ldb	83,s
	cmpb	#4	;cmpqi:
	bls	L11
	leas	84,s
	puls	y,u,pc
	.globl _handle_enemies
_handle_enemies:
	pshs	u
	leas	-9,s
	clr	8,s
	jmp	L14
L16:
	ldb	8,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	6,s
	ldd	6,s
	aslb
	rola
	std	6,s
	; ldd	6,s	; optimization 5
	leax	d,x
	stx	6,s
	ldd	6,s
	aslb
	rola
	std	6,s
	ldu	6,s
	leax	_enemies,u
	ldb	,x
	; tstb	; optimization 6
	lbne	L15
	ldb	8,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	4,s
	ldd	4,s
	aslb
	rola
	std	4,s
	; ldd	4,s	; optimization 5
	leax	d,x
	stx	4,s
	ldd	4,s
	aslb
	rola
	std	4,s
	ldx	4,s
	leax	_enemies,x
	jsr	_move_object
	ldb	8,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	2,s
	ldd	2,s
	aslb
	rola
	std	2,s
	; ldd	2,s	; optimization 5
	leax	d,x
	stx	2,s
	ldd	2,s
	aslb
	rola
	std	2,s
	ldx	2,s
	leax	_enemies,x
	jsr	_draw_enemy
	ldb	8,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	,s
	ldd	,s
	aslb
	rola
	std	,s
	; ldd	,s	; optimization 5
	leax	d,x
	stx	,s
	ldd	,s
	aslb
	rola
	std	,s
	ldx	,s
	leax	_enemies,x
	jsr	_check_enemy
L15:
	inc	8,s
L14:
	ldb	8,s
	cmpb	#4	;cmpqi:
	lbls	L16
	leas	9,s
	puls	u,pc
	.globl _check_AllEnemysDeath
_check_AllEnemysDeath:
	pshs	u
	leas	-6,s
	clr	5,s
	bra	L19
L21:
	ldb	5,s
	clra		;zero_extendqihi: R:b -> R:d
	tfr	d,x
	stx	1,s
	ldd	1,s
	aslb
	rola
	std	1,s
	; ldd	1,s	; optimization 5
	leax	d,x
	stx	1,s
	ldd	1,s
	aslb
	rola
	std	1,s
	ldu	1,s
	leax	_enemies,u
	ldb	,x
	; tstb	; optimization 6
	beq	L23
	inc	5,s
L19:
	ldb	5,s
	cmpb	#4	;cmpqi:
	bls	L21
	ldb	_current_wave+1
	stb	,s
	ldb	_current_wave+2
	stb	3,s
	; ldb	3,s	; optimization 5
	decb
	stb	4,s
	ldb	,s
	cmpb	4,s	;cmpqi:
	bne	L22
	ldb	#2
	stb	_current_wave+3
	bra	L23
L22:
	ldb	#3
	stb	_current_wave+3
L23:
	leas	6,s
	puls	u,pc
	.area .bss
	.globl	_bullets
_bullets:	.blkb	60
